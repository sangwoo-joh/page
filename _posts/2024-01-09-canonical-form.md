---
layout: post
published: true
tags: [dev, essay]
title: Canonical Form
---

 [Canonical Form](https://en.wikipedia.org/wiki/Canonical_form), 한국말로는 표준 형식이라고 부른다. 일상적인 말로 설명하면 어떤 대상을 "표준적으로 표현"하기 위한 약속이다. 다양한 방법으로 표현된 같은 대상을 하나의 약속된 표현으로 바꿀 수 있다면 이 약속된 표현을 "Canonical Form"이라고 부른다.

 어떤 대상을 Canonical Form으로 바꾸는 일을 정규화라고 부른다. 영어로는 Normalization 혹은 Canonicalization 두 단어가 모두 사용되는 것 같다. 예를 들어 데이터베이스에서 말하는 정규화는 Normalization인데 이 역시 데이터의 형식을 Canonical Form으로 바꾼다는 의미를 담고 있다.

 좀더 구체적인 예를 들면 파일 경로를 "표준적으로 표현"하기 위한 방법으로 Canonical Path 라는 것이 있다. `/foo/bar/../././////baz` 와 같은 경로 문자열을 Canonical Path로 바꾸면 `/foo/baz` 가 된다. `//foo//bar//a/..//././//../baz///` 역시 정규화하면 `/foo/baz` 가 된다. 이처럼 여러 형태로 표현될 수 있는 대상을 비교하려면 대상을 정규화하는 작업이 반드시 선행되어야 한다.

 요즘 팀이 커지면서 이런 표준 형식이 중요하다는 생각이 들었다. 좀더 구체적으로는 프로젝트를 시작할 때 우리가 모을 데이터에 대해 팀원들이 모두 동의하는 표준 형식을 정의하는 일이 필요하다는 사실을 깨달았다. 그렇지 않으면 나중에 Technical Debt가 엄청나게 쌓이더라. 그리고 다른 동료의 코드를 볼 때 잘 이해가 되지 않는 부분은 서로 생각하는 Canonical Form이 달라서 발생한 경우도 종종 있었다. 내가 무의식적으로 가정한 데이터 형식이 실제로는 다른 사람의 생각과 다른 경우가 많았다.

 그래서 이것은 기술적인 영역이기도 하지만 조직적인 영역이기도 한 것 같다. 수학적인 정의가 존재하긴 하지만 그것은 수학의 얘기이고, 우리 팀과 업무 영역에서 필요한 표준 형식은 팀원 혹은 팀 간의 의사소통을 통해 맞춰가야 하는 부분이라고 생각된다.
